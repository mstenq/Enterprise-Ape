<%= javascript_include_tag 'jquery.tablesort.min' %>

<p id="notice"><%= notice %></p>


<div class="ui form" style="margin-bottom: 20px; float:right;">
    <%= form_tag invoices_path, method: :get do %>
      <div class="fields">
        <div class="field">
          <%= label_tag 'start_date', 'From', class:"" %>
          <%= date_field_tag 'start_date', @start_date, class:"" %>        
        </div>
        <div class="field">
          <%= label_tag 'end_date', 'To', class:"" %>
          <%= date_field_tag 'end_date', @end_date, class:"" %>        
        </div>
        <div class="field" style="margin-top: 24px;">
          <%= submit_tag 'Search', class:"ui button" %>
        </div>
      </div>
    <% end %>
</div>




<h2>Invoices</h2>

<table  class="ui basic sortable table">
  <thead>
    <tr>
      <th class="sorted ascending">Date</th>
      <th>Company</th>
      <th class="number">Tax</th>
      <th>Sales person</th>
      <th class="no-sort"></th>
    </tr>
  </thead>

  <tbody>
    <% @invoices.each do |invoice| %>
      <tr>
        <td><%= invoice.date.strftime("%-m/%-d/%Y") %></td>
        <td><%= invoice.company %></td>
        <td><%= invoice.tax %>%</td>
        <td><%= invoice.sales_person %></td>
        <td>
          <%= link_to 'Show', invoice %>
          <%= link_to 'Edit', edit_invoice_path(invoice) %>
          <%= link_to 'Destroy', invoice, method: :delete, data: { confirm: 'Are you sure?' } %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Invoice', new_invoice_path, class:"ui blue button" %>


<script>
  $('table').tablesort();
</script>
